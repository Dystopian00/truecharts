image:
  repository: tccr.io/truecharts/docker-in-docker
  pullPolicy: IfNotPresent
  tag: v20.10.12@sha256:e672e85d8141beffea3f7e5b97c79a2bca726bde478474e845fc338a08a1092f

controller:
  # -- Set the controller type.
  # Valid options are deployment, daemonset or statefulset
  type: statefulset
  # -- Number of desired pods
  replicas: 1
  # -- Set the controller upgrade strategy
  # For Deployments, valid values are Recreate (default) and RollingUpdate.
  # For StatefulSets, valid values are OnDelete and RollingUpdate (default).
  # DaemonSets ignore this.
  strategy: RollingUpdate
  rollingUpdate:
    # -- Set deployment RollingUpdate max unavailable
    unavailable: 1
    # -- Set deployment RollingUpdate max surge
    surge:
    # -- Set statefulset RollingUpdate partition
    partition:
  # -- ReplicaSet revision history limit
  revisionHistoryLimit: 3

persistence:
  varrun:
    enabled: false

securityContext:
  privileged: true
  readOnlyRootFilesystem: false
  allowPrivilegeEscalation: true
  runAsNonRoot: false

podSecurityContext:
  runAsUser: 0
  runAsGroup: 0
  fsGroup: 0

hostNetwork: true

service:
  main:
    enabled: false

probes:
  liveness:
    enabled: false

  readiness:
    enabled: false

  startup:
    enabled: false

env:
  DOCKER_TLS_CERTDIR: "/certs"

persistence:
  mnt:
    enabled: true
    type: hostPath
    hostPath: /mnt
    mountPath: /mnt
    hostPathType: ""
    readOnly: false
  root:
    enabled: true
    type: hostPath
    hostPath: /root
    mountPath: /root
    hostPathType: ""
    readOnly: false
  docker-certs-ca:
    enabled: true
    mountPath: "/config"

volumeClaimTemplates:
  docker-certs-client:
    enabled: true
    mountPath: "/certs/client"
  docker:
    enabled: true
    mountPath: "/var/lib/docker"
