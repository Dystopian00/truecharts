image:
  repository: jonaswinkler/paperless-ng
  pullPolicy: IfNotPresent
  tag: v1.5.0@sha256:e4102d1b850c9a54f7ac1f3a0be197f451ad36ae165b43aa9829714e1d582ca8

# securityContext:
#   runAsNonRoot: false
#   readOnlyRootFilesystem: false

# podSecurityContext:
#   runAsUser: 0
#   runAsGroup: 0

secret:
  PAPERLESS_ADMIN_USER: ""
  PAPERLESS_ADMIN_PASSWORD: ""
  PAPERLESS_ADMIN_MAIL: ""

env:
  USERMAP_UID: 568
  USERMAP_GID: 568
  PAPERLESS_TIME_ZONE: "{{ .Values.env.TZ }}"
  # PAPERLESS_REDIS:
  PAPERLESS_DATA_DIR: "/config/"
  PAPERLESS_STATICDIR: "/static/"
  PAPERLESS_CONSUMPTION_DIR: "/data/" # Hostpath
  PAPERLESS_MEDIA_ROOT: "/media/" #  Hostpath

envTpl:
  PAPERLESS_DBNAME: "{{ .Values.postgresql.postgresqlDatabase }}"
  PAPERLESS_DBUSER: "{{ .Values.postgresql.postgresqlUsername }}"
  PAPERLESS_DBPORT: 5432

envValueFrom:
  PAPERLESS_DBPASS:
    secretKeyRef:
      name: dbcreds
      key: postgresql-password
  PAPERLESS_DBHOST:
    secretKeyRef:
      name: dbcreds
      key: plainhost
  PAPERLESS_SECRET_KEY:
    secretKeyRef:
      name: paperlessng-secrets
      key: PAPERLESS_SECRET_KEY

service:
  main:
    ports:
      main:
        targetPort: 8000
        port: 10140

persistence:
  config:
    enabled: true
    mountPath: "/config"
  data:
    enabled: true
    mountPath: "/data"
  static:
    enabled: true
    mountPath: "/static"
  media:
    enabled: true
    mountPath: "/media"
  # varrun:
  #   enabled: true

# Enabled postgres
postgresql:
  enabled: true
  existingSecret: "dbcreds"
  postgresqlUsername: paperless-ng
  postgresqlDatabase: paperless-ng
