# Include{groups}
questions:
# Include{global}
# Include{controller}
  - variable: metallb
    group: App Configuration
    label: MetalLB Configuration
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: ipAddressPools
          label: IP Address Pools Object
          schema:
            additional_attrs: true
            type: list
            default: []
            items:
              - variable: name
                label: Name
                description: Name of the IP address pool
                schema:
                  type: string
                  required: true
                  default: ""
              - variable: autoAssign
                label: Auto Assign
                description: AutoAssign flag used to prevent MetallB from automatic
                    allocation for a pool.
                schema:
                  type: boolean
                  default: true
              - variable: avoidBuggyIPs
                label: Avoid Buggy IPs
                description: AvoidBuggyIPs prevents addresses ending with .0 and .255
                    to be used by a pool.
                schema:
                  type: boolean
                  default: false
              - variable: addresses
                label: Addresses Pools
                description: A list of IP address ranges over which MetalLB has authority.
                    You can list multiple ranges in a single pool, they will all share
                    the same settings. Each range can be either a CIDR prefix, or an
                    explicit start-end range of IPs.
                schema:
                  type: list
                  default: []
                  items:
                    - variable: addressPoolEntry
                      label: Address Pool Entry
                      schema:
                        type: string
                        default: ""
                        required: true
        - variable: L2Advertisements
          label: L2 Advertisements
          description: L2Advertisement allows to advertise the LoadBalancer IPs provided
              by the selected pools via L2.
          schema:
            additional_attrs: true
            type: list
            default: []
            items:
              - variable: name
                label: Name
                description: Name of the L2 Advertisement
                schema:
                  type: string
                  required: true
                  default: ""
              - variable: addressPools
                label: Address Pools
                description: The list of IPAddressPools to advertise via this advertisement,
                    selected by name.
                schema:
                  type: list
                  default: []
                  items:
                    - variable: addressPoolEntry
                      label: Address Pool Entry
                      schema:
                        type: string
                        default: ""
                        required: true
              - variable: nodeSelectors
                label: Node Selectors
                description: NodeSelectors allows to limit the nodes to announce as
                    next hops for the LoadBalancer IP. When empty, all the nodes having  are
                    announced as next hops.
                schema:
                  type: list
                  default: []
                  items:
                    - variable: nodeSelectorEntry
                      label: Node Selector Entry
                      schema:
                        type: string
                        default: ""
                        required: true
