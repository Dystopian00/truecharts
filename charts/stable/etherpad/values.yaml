image:
  repository: tccr.io/truecharts/etherpad
  pullPolicy: IfNotPresent
  tag: version-1.8.14@sha256:4900f0e787ca22cf93090ae44ecceb5689d4427c739e1eb637a6e3a913161bf8
service:
  main:
    ports:
      main:
        port: 10060
        targetPort: 9001
persistence:
  data:
    enabled: true
    mountPath: "/opt/etherpad-lite/var"
  app:
    enabled: true
    mountPath: "/opt/etherpad-lite/app"
postgresql:
  enabled: true
  existingSecret: "dbcreds"
  postgresqlUsername: etherpad
  postgresqlDatabase: etherpad
portal:
  open:
    enabled: true
securityContext:
  container:
    readOnlyRootFilesystem: false
    runAsNonRoot: false
    runAsUser: 0
    runAsGroup: 0
workload:
  main:
    podSpec:
      containers:
        env:
          DB_TYPE: "postgres"
          DB_NAME: "{{ .Values.cnpg.database }}"
          DB_USER: "{{ .Values.cnpg.user }}"
          DB_PORT: "5432"
          DB_PASS:
            secretKeyRef:
              name: cnpg-main-urls
              key: postgresql-password
          DB_HOST:
            secretKeyRef:
              name: cnpg-main-urls
              key: plainhost
          # User Defined
          TITLE: "Etherpad"
          FAVICON: "favicon.ico"
          DEFAULT_PAD_TEXT: "Welcome to Etherpad! This pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents! Get involved with Etherpad at https://etherpad.org"
          ADMIN_PASSWORD: "adminpass"
          USER_PASSWORD: "firstuserpass"
