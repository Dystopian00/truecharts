image:
  repository: tccr.io/truecharts/netbox
  tag: 3.3.6@sha256:4084b61c588dd2f15d117f30017a5c15fd03c3de38ed49e3241c48bce54048d7
  pullPolicy: IfNotPresent

securityContext:
  readOnlyRootFilesystem: false
  runAsNonRoot: false

podSecurityContext:
  runAsUser: 0
  runAsGroup: 0

service:
  main:
    ports:
      main:
        port: 10265
        targetPort: 8080

netbox:
  # - This is a list of valid fully-qualified domain names (FQDNs) for the NetBox server. NetBox will not permit write
  # - access to the server via any other hostnames. The first FQDN in the list will be treated as the preferred name.
  allowed_hosts:
    - "127.0.0.1"
  # - Specify one or more name and email address tuples representing NetBox administrators. These people will be notified of
  # - application errors (assuming correct email settings are provided).
  admins:
    - name: John Doe
      email: jdoe@example.com
  # - Enable any desired validators for local account passwords below. For a list of included validators, please see the
  # - Django documentation at https://docs.djangoproject.com/en/stable/topics/auth/passwords/#password-validation.
  auth_password_validators:
    - name: django.contrib.auth.password_validation.MinimumLengthValidator
      options:
        - key: min_length
          value: 10

persistence:
  config:
    enabled: true
    mountPath: /etc/netbox/config
  reports:
    enabled: true
    mountPath: /etc/netbox/reports
  scripts:
    enabled: true
    mountPath: /etc/netbox/scripts
  media:
    enabled: true
    mountPath: /opt/netbox/netbox/media
  configfile:
    enabled: true
    type: secret
    readOnly: true
    defaultMode: "0600"
    objectName: '{{ include "tc.common.names.fullname" . }}-secret'
    mountPath: /etc/netbox/config/config.py
    subPath: config.py

postgresql:
  enabled: true
  existingSecret: dbcreds
  postgresqlUsername: authentik
  postgresqlDatabase: authentik

redis:
  enabled: true
  existingSecret: rediscreds

portal:
  enabled: true
