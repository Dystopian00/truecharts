image:
  repository: tccr.io/truecharts/frigate
  pullPolicy: IfNotPresent
  tag: 0.11.1@sha256:8dd7273eebf396563d7bbc14778fd3d58c624e5063ffcf74b5b0afe63e7cdd7f

securityContext:
  readOnlyRootFilesystem: false
  runAsNonRoot: false

podSecurityContext:
  runAsUser: 0
  runAsGroup: 0

global:
  isSCALE: true

# -- In most cases the "enabled" key is only used internally to "render" or not the configuration
# - Some parts of the config bellow are slightly modified so they can be added on SCALE UI. Mainly lists.
# - Do not blindly copy paste configuration from upstream.
frigate:
  mqtt:
    host: mqtt.server.com
# All of the frigate app config is in the questions, so we don't need to default any of it

ingress:
  rtmp:
    autoLink: true

service:
  main:
    ports:
      main:
        port: 10500
        protocol: HTTP
        targetPort: 5000
  rtmp:
    enabled: true
    ports:
      rtmp:
        enabled: true
        port: 1935
        targetPort: 1935

persistence:
  media:
    enabled: true
    mountPath: /media
    size: 256Gi
  db:
    enabled: true
    mountPath: /db
    size: 256Gi
    type: emptyDir
  cache:
    enabled: true
    mountPath: /tmp/cache
    type: emptyDir
  shm:
    enabled: true
    mountPath: /dev/shm
    type: emptyDir
    medium: Memory
  frigate-config:
    enabled: true
    mountPath: /config
    type: configMap
    objectName: '{{ template "tc.common.names.fullname" . }}-frigate-config'
    items:
      - key: config.yml
        path: config.yml

portal:
  enabled: true
