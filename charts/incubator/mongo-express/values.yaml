image:
  repository: docker.io/mongo-express
  pullPolicy: IfNotPresent
  tag: latest@sha256:d5cee110909938c99cf8800b9379494c190d8fecaec70a4ce3886facdee6ef8e

service:
  main:
    ports:
      main:
        protocol: http
        targetPort: 8081
        port: 18081

securityContext:
  container:
    readOnlyRootFilesystem: false

workload:
  main:
    podSpec:
      containers:
        main:
          env:
            ME_CONFIG_MONGODB_AUTH_DATABASE: "{{ .Values.mongodb.mongodbDatabase }}"
            ME_CONFIG_MONGODB_AUTH_USERNAME: "{{ .Values.mongodb.mongodbUsername }}"
            ME_CONFIG_MONGODB_AUTH_PASSWORD:
              secretKeyRef:
                expandObjectName: false
                name: '{{ printf "%s-%s" .Release.Name "mongodbcreds" }}'
                key: mongodb-password

mongodb:
  enabled: false

portal:
  open:
    enabled: true
