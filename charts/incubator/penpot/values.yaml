# TODO: Update images
image:
  repository: penpotapp/frontend
  pullPolicy: IfNotPresent
  tag: latest@sha256:0cf7ce270c8e3fc18459165567549b8c578a7f37c257785efd21d15189fb10ae

backendImage:
  repository: penpotapp/backend
  pullPolicy: IfNotPresent
  tag: latest@sha256:e1485e99dd7b587155cf577408bab8fb85daf7b1bb0586958acc19ed5422b869

exporterImage:
  repository: penpotapp/exporter
  pullPolicy: IfNotPresent
  tag: latest@sha256:e5c8d7b78feae9997a11bf6b7281aa19907a799c97d76b8d46e0caa7a349fc3f

securityContext:
  runAsNonRoot: false
  readOnlyRootFilesystem: false

podSecurityContext:
  runAsUser: 0
  runAsGroup: 0

penpot:
  public_uri: "http://localhost:{{ .Values.service.main.ports.main.port }}"
  flags:
    - enable-registration
    - enable-login
    - disable-email-verification
  telemetry_enabled: false
  registration_domain_whitelist: []
  smtp:
    enabled: false
    default_from: "no-reply@example.com"
    default_reply_to: "no-reply@example.com"
    tls: true
    ssl: false
    host: ""
    port: 587
    user: ""
    pass: ""
  identity_providers:
    google:
      enabled: false
      client_id: ""
      client_secret: ""
    github:
      enabled: false
      client_id: ""
      client_secret: ""
    gitlab:
      enabled: false
      base_uri: ""
      client_id: ""
      client_secret: ""
    oidc:
      enabled: false
      base_uri: ""
      client_id: ""
      client_secret: ""
    ldap:
      enabled: false
      host: ""
      port: 10389
      ssl: false
      starttls: false
      base_dn: ""
      bind_dn: ""
      bind_pass: ""
      attrs_username: ""
      attrs_email: ""
      attrs_fullname: ""

envFrom:
  - secretRef:
      name: '{{ include "tc.common.names.fullname" . }}-common-secret'

probes:
  liveness:
    type: HTTP
    path: /
  readiness:
    type: HTTP
    path: /
  startup:
    type: HTTP
    path: /

service:
  main:
    ports:
      main:
        protocol: HTTP
        targetPort: 80
        port: 10592

persistence:
  data:
    enabled: true
    mountPath: /opt/data
    noMount: true
  assets:
    enabled: true
    mountPath: /opt/data/assets

postgresql:
  enabled: true
  existingSecret: dbcreds
  postgresqlDatabase: penpot
  postgresqlUsername: penpot

redis:
  enabled: true
  existingSecret: rediscreds
  redisUsername: penpot

portal:
  enabled: true
