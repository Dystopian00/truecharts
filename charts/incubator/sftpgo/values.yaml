image:
  pullPolicy: IfNotPresent
  repository: tccr.io/truecharts/sftpgo
  tag: latest@sha256:cf98201352134ccb3094c7effb4bb9970cb8d02a2c02e040ed94e61b6b891a9f

podSecurityContext:
  runAsGroup: 0
  runAsUser: 0

securityContext:
  readOnlyRootFilesystem: false
  runAsNonRoot: false

env:
  SFTPGO_COMMON__DEFENDER__ENABLED: "true"
  SFTPGO_FTPD__BINDINGS__0__DEBUG: "0"
  SFTPGO_FTPD__BINDINGS__0__FORCE_PASSIVE_IP: 10.0.0.10
  SFTPGO_FTPD__BINDINGS__0__PORT: "{{ .Values.service.ftpport.ports.ftpport.port }}"
  SFTPGO_SFTPD__BINDINGS__0__PORT: "{{ .Values.service.sftpport.ports.sftpport.port }}"
  SFTPGO_FTPD__PASSIVE_PORT_RANGE__END: "{{ .Values.service.passiveportsend.ports.passiveportsend.port }}"
  SFTPGO_FTPD__PASSIVE_PORT_RANGE__START: "{{ .Values.service.passiveportsstart.ports.passiveportsstart.port }}"
  SFTPGO_WEBDAVD__BINDINGS__0__PORT: "{{ .Values.service.webdavport.ports.webdavport.port }}"

service:
  ftpport:
    enabled: true
    ports:
      ftpport:
        enabled: true
        port: 2121
        protocol: TCP
        targetPort: 2121
  main:
    ports:
      main:
        port: 2221
        protocol: HTTP
        targetPort: 8080
  passiveportsstart:
    enabled: true
    ports:
      passiveportsstart:
        enabled: true
        port: 50000
        protocol: TCP
        targetPort: 50000
  passiveportsend:
    enabled: true
    ports:
      passiveportsend:
        enabled: true
        port: 50000
        protocol: TCP
        targetPort: 50000
  sftpport:
    enabled: true
    ports:
      sftpport:
        enabled: true
        port: 2022
        protocol: TCP
        targetPort: 2022
  webdavport:
    enabled: true
    ports:
      webdavport:
        enabled: true
        port: 10080
        protocol: TCP
        targetPort: 10080

portal:
  enabled: true

persistence:
  backupdirectory:
    enabled: true
    mountPath: /srv/sftpgo/backups
  configpath:
    enabled: true
    mountPath: /var/lib/sftpgo
  data:
    enabled: true
    mountPath: /srv/sftpgo/data
