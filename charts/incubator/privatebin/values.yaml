image:
  repository: privatebin/pdo
  pullPolicy: IfNotPresent
  tag: 1.4.0@sha256:5fe4b94286dcadbd0e576418f619205463030754e257863ec430eb7eb3e957fd

env:
  # See also: https://github.com/PrivateBin/docker-nginx-fpm-alpine#timezone-settings
  TZ: "{{ .Values.TZ }}"
  PHP_TZ: "{{ .Values.TZ }}"

podSecurityContext:
  runAsUser: 65534
  runAsGroup: 82
  fsGroup: 82

service:
  main:
    protocol: HTTP
    ports:
      main:
        targetPort: 8080
        port: 10247

probes:
  liveness:
    path: "/"
  readiness:
    path: "/"
  startup:
    path: "/"

persistence:
  run:
    enabled: true
    mountPath: "/run"
    type: "emptyDir"
    medium: "Memory"
  tmp:
    enabled: true
    mountPath: "/tmp"
    type: "emptyDir"
    medium: "Memory"
  nginx-cache:
    enabled: true
    mountPath: "/var/lib/nginx/tmp"
    type: "emptyDir"

postgresql:
  enabled: true
  existingSecret: "dbcreds"
  postgresqlUsername: privatebin
  postgresqlDatabase: privatebin
