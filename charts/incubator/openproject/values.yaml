image:
  repository: tccr.io/truecharts/openproject
  pullPolicy: IfNotPresent
  tag: v12@sha256:d9f223fe3ba4724d48466de22ddaed8786b5998585bc93ec569ed91209aa6b06

args:
  - ./docker/prod/proxy

securityContext:
  readOnlyRootFilesystem: false
  runAsNonRoot: false

podSecurityContext:
  runAsGroup: 0
  runAsUser: 0

openproject:
  edition: standard
  hostname: proj.example.com
  # TODO: Set to true after tests
  enable_https: false
  cache:
    expires_in_seconds: 0

envFrom:
  - secretRef:
      name: '{{ include "tc.common.names.fullname" . }}-common-secret'
  - configMapRef:
      name: '{{ include "tc.common.names.fullname" . }}-common-config'

persistence:
  assets:
    enabled: true
    mountPath: /var/openproject/assets

service:
  main:
    ports:
      main:
        port: 10290
        targetPort: 80

postgresql:
  enabled: true
  existingSecret: dbcreds
  postgresqlUsername: openproject
  postgresqlDatabase: openproject

memcached:
  enabled: true

portal:
  enabled: true
