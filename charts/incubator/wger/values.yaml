image:
  repository: tccr.io/truecharts/wger
  tag: latest@sha256:25be977586a83225f6bf888afd28dcd60c24f31aaaea7a975a040e91a1709e87
  pullPolicy: IfNotPresent

nginxImage:
  repository: tccr.io/truecharts/nginx
  tag: v1.23.1@sha256:1620254cd011e2b81361f1f4682fd6cceadf13b07f8e37f322b60407d6d5a766
  pullPolicy: IfNotPresent

securityContext:
  runAsNonRoot: false
  readOnlyRootFilesystem: false

podSecurityContext:
  runAsUser: 1000
  runAsGroup: 1000
  fsGroup: 1000

envFrom:
  - secretRef:
      name: '{{ include "tc.common.names.fullname" . }}-wger-secret'
  - configMapRef:
      name: '{{ include "tc.common.names.fullname" . }}-wger-configmap'

wger:
  # Where the backend will listen. Leave this as is, unless nginx is removed
  site_url: "http://localhost:8000"
  sync_exercises_on_startup: false
  download_exercise_images_on_startup: false
  allow_registration: true
  allow_guest_users: true
  allow_upload_videos: true
  exercise_cache_ttl: "3600"
  django_perform_migrations: true
  django_debug: false
  enable_email: false
  from_email: ""
  email_host: ""
  email_port: "587"
  email_host_user: ""
  email_host_password: ""
  email_use_tls: true
  email_use_ssl: true
  recaptha_public_key: ""
  recaptha_private_key: ""
  nocaptcha: true

service:
  main:
    ports:
      main:
        port: 10249

persistence:
  media:
    enabled: true
    mountPath: "/home/wger/media"
  static:
    enabled: true
    type: emptyDir
    mountPath: "/home/wger/static"
  wger-config:
    enabled: "true"
    noMount: true
    subPath: "nginx.conf"
    type: "custom"
    volumeSpec:
      configMap:
        name: '{{ include "tc.common.names.fullname" . }}-wger-configmap'

postgresql:
  enabled: true
  existingSecret: "dbcreds"
  postgresqlUsername: wger
  postgresqlDatabase: wger

redis:
  enabled: true
  existingSecret: "rediscreds"
  redisUsername: "default"
  redisDatabase: "0"

portal:
  enabled: true
