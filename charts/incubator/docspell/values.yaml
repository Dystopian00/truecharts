image:
  repository: tccr.io/truecharts/docspell-server
  tag: v0.38.0@sha256:bcd3f651f83fc482a0bd8bb2606870146376656a438e7b8fe051f3496d405f3d
  pullPolicy: IfNotPresent

joexImage:
  repository: tccr.io/truecharts/docspell-joex
  tag: v0.38.0@sha256:16f2c2e32d8b20f8cdd1b62ae458ded2bbb16ed7bdc2727dc4a7624298ef7021
  pullPolicy: IfNotPresent

dscImage:
  repository: tccr.io/truecharts/docspell-dsc
  tag: v0.38.0@sha256:86c8100df78f47f00291de0c2395917427f6caacbf896691559296c0a805a7a9
  pullPolicy: IfNotPresent

envFrom:
  - secretRef:
      name: '{{ include "tc.common.names.fullname" . }}-docspell-secret'
  - configMapRef:
      name: '{{ include "tc.common.names.fullname" . }}-docspell-server'

rest_server:
  # -- App name, shows on the top right corner
  app_name: Docspell
  base_url: ""
  # -- This defines whether the classification form in the collective settings is displayed or not.
  show_classification_settings: true
  # -- This is a hard limit to restrict the size of a batch that is returned when searching for items.
  max_item_page_size: 200
  # -- The number of characters to return for each item notes when searching.
  max_note_length: 180
  admin_endpoint:
    # -- Disables endpoint if empty
    secret: ""
  auth:
    # -- How long a authentication token is valid
    session_valid: 5 minutes
    remember_me:
      enabled: true
      # -- How long the remember me cookie/token is valid.
      valid: 30 days
  addons:
    enabled: false
    # -- Whether installing addons requiring network should be allowed or not.
    allow_impure: true
    # -- Define patterns of urls that are allowed to install addons from.
    allowed_urls:
      - "*"
    # -- Define patterns of urls that are denied to install addons from.
    denied_urls: []
  download_all:
    # -- How many files to allow in a zip.
    max_files: 500
    # --- The maximum (uncompressed) size of the zip file contents.
    max_size: 1400M
  logging:
    # -- The format for the log messages. Can be one of:
    # -- Json | Logfmt | Fancy | Plain
    format: Fancy
    # -- The minimum level to log. From lowest to highest:
    # -- Trace | Debug | Info | Warn | Error
    minimum_level: Warn
    levels:
      # -- Override the log level of specific loggers
      docspell: Info
      flywaydb: Info
      binny: Info
      http4s: Info
  server_opts:
    # -- Enable HTTP2
    enable_http2: false
    # -- Maximum allowed connections
    max_connections: 1024
    # -- Timeout for waiting for the first output of the response
    response_timeout: 45s
  integration_endpoint:
    enabled: false
    # -- The priority to use when submitting files through this endpoint.
    # low | high
    priority: low
    # -- The name used for the item "source" property when uploaded through this endpoint.
    source_name: integration
    allowed_ips:
      enabled: false
      ips:
    http_basic_auth:
      enabled:
      realm:
      user:
      password:
    http_header:
      enabled:
      header_name:
      header_value:




  # full_text_search
  #   enabled
  #   backend
  #   solr
  #     url
  #     commit_within
  #     log_verbose
  #     def_type
  #     q_op
  #   postgresql
  #     use_default_connection
  #     jdbc
  #       url
  #       user
  #       password
  #     pg_config
  #     pg_query_parser
  #     pg_rank_normalization
  # backend
  #   mail_debug
  #   jdbc
  #     url
  #     user
  #     password
  #   database_schema
  #     run_main_migrations
  #     run_fixup_migrations
  #     repair_schema
  #   signup
  #     mode
  #     new_invite_password
  #     invite_time
  #   files
  #     chunk_size
  #     valid_mime_types
  #     default_store
  #     stores
  #       database
  #         enabled
  #         type
  #       filesystem
  #         enabled
  #         type
  #         directory
  #       minio
  #         enabled
  #         type
  #         endpoint
  #         access_key
  #         secret_key
  #         bucket


service:
  main:
    ports:
      main:
        port: 10320
        protocol: HTTP

postgresql:
  enabled: true
  existingSecret: dbcreds
  postgresqlUsername: docspell
  postgresqlDatabase: docspell

solr:
  enabled: true
  existingSecret: dbcreds
  solrCores: docspell
  solrUsername: docspell

portal:
  enabled: true
