{{/* Make sure all variables are set properly */}}
{{- include "tc.v1.common.loader.init" . }}

{{- $newArgs :=  (include "traefik.args" . | fromYaml) }}
{{- $_ := set .Values.workload.main.podSpec.containers.main "args" $newArgs -}}

{{- include "traefik.portalhook" . }}
{{- include "traefik.tlsOptions" . }}
{{- include "traefik.ingressRoute" . }}
{{- include "traefik.ingressClass" . }}


{{/* Render the templates */}}
{{ include "tc.v1.common.loader.apply" . }}
